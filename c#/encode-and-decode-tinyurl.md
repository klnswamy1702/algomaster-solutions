# [Leetcode 535: Encode and Decode TinyURL](https://leetcode.com/problems/encode-and-decode-tinyurl/)

## Approaches
1. [Basic Hash Map Approach](#basic-hash-map-approach)
2. [Improved Hash Map with Random Generator](#improved-hash-map-with-random-generator)

## Basic Hash Map Approach

### Intuition
The Basic Hash Map Approach is a straightforward method to encode and decode URLs using dictionaries in C#. The idea is to store each original URL in a dictionary with a unique key generated by incrementing an integer. This unique key is then used to retrieve the original URL during the decode process.

### Code
```csharp
public class Codec {

    private Dictionary<int, string> map = new Dictionary<int, string>();
    private int id = 0;

    // Encodes a URL to a shortened URL
    public string encode(string longUrl) {
        // Store the URL with an incremental integer key
        map[id] = longUrl;
        // Return the key as the short URL
        return id++.ToString();
    }

    // Decodes a shortened URL to its original URL
    public string decode(string shortUrl) {
        // Convert the short URL back to an integer key
        int key = int.Parse(shortUrl);
        // Retrieve the original URL using the key
        return map[key];
    }
}
```

### Time Complexity
- Encoding: O(1),
- Decoding: O(1).

### Space Complexity
- O(n), where n is the number of URLs processed, for storing the URL map.

## Improved Hash Map with Random Generator

### Intuition
In the improved version, instead of using a sequential integer as a key, we use a random string to make it less predictable. This approach decreases the possibility of URL collision while maintaining efficiency.

### Code
```csharp
public class Codec {

    private Dictionary<string, string> map = new Dictionary<string, string>();
    private string chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    private Random rand = new Random();
    private int urlLength = 6;
    
    // Encodes a URL to a shortened URL
    public string encode(string longUrl) {
        string key;
        
        // Create a new key using random characters
        do {
            var sb = new StringBuilder();
            for (int i = 0; i < urlLength; i++) {
                sb.Append(chars[rand.Next(chars.Length)]);
            }
            key = sb.ToString();
        } while (map.ContainsKey(key)); // Ensure uniqueness
        
        map[key] = longUrl;
        return key;
    }

    // Decodes a shortened URL to its original URL
    public string decode(string shortUrl) {
        // Retrieve the original URL using the generated random string
        return map.ContainsKey(shortUrl) ? map[shortUrl] : null;
    }
}
```

### Time Complexity
- Encoding: O(L), where L is the number of attempts needed to ensure a unique random key (expected to be constant under normal circumstances due to large key space),
- Decoding: O(1).

### Space Complexity
- O(n), where n is the number of URLs processed, for storing the URL map.

With the improvement of using random strings as keys, this approach minimizes collisions and enhances the uniqueness of the short URLs.

